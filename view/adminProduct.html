<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Product - TB Booking</title>

    <!-- Link Css -->

    <link rel="stylesheet" href="../style/admin.css" />

    <!-- Link Bootstrap -->

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
    />
  </head>
  <body>
    <div class="managerContent">
      <!-- Title & menu (Col 1) -->

      <div
        class="titleMenu col-md-3"
      >
        <!-- Title -->
        <div class="ms-5" style="margin-top: 80px">
          <h1 class="text-primary">Admin<br>Store Manager</h1>
        </div>

        <!-- Menu (Navbar) -->

        <div class="ms-3 menu">
          <ul style="list-style: none">
            <li>
              <a
                href="./adminProduct.html"
                style="background-color: #cbdceb; color: #004683"
                class="text-decoration-none fs-5 px-3 py-2 rounded"
                ><i class="bi bi-bucket me-2"></i>Sản phẩm</a
              >
            </li>
          </ul>
        </div>
      </div>

      <!-- Navbar & Product (Col 2) -->

      <div style="padding: 0; width: 79%" class="col-md-9">
        <!-- Navbar -->

        <div class="navBar rounded bg-white" style="margin: 0;">
          <!-- User Button -->

          <div class="text-end py-2 pe-4 d-flex gap-3 justify-content-end" style="margin-right: 60px;">
            <div class="mt-2">
              <button id="showFormBtn" class="btn btn-primary">Thêm sản phẩm</button>
            </div>
            <div class="userIcon position-relative d-inline-block">
              <i class="bi bi-person-circle text-end fs-1"></i>

              <!-- Dropdown Content -->
              <div class="dropdownContent position-absolute border">
                <ul class="text-decoration-none text-black">
                  <li style="list-style: none">
                    <a class="btn-danger btn" href="../view/signIn.html"
                      >Sign out</a
                    >
                  </li>

                  <li class="mt-2" style="list-style: none">
                    <button id="showFormBtn" class="btn btn-primary">Thêm sản phẩm</button>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- Manage Product -->

        <div class="bg-white m-3 rounded" style="height: 90%">
          <!-- Title -->

          <div class="pt-5 container">
            <p class="fs-2 fw-bold">Quản lý sản phẩm</p>
          </div>

          <!-- Search Bar -->

          <div class="container mt-5 d-flex">
            <input
              type="text"
              placeholder="Search..."
              class="py-2 px-2 border-1 rounded"
              style="width: 400px"
            />
            <button class="px-3 rounded-right border-0 btn btn-primary">
              <i class="bi bi-search me-2"></i>Tìm kiếm
            </button>
          </div>

          <!-- Display Product -->

          <div
            class="product container rounded mt-3"
          >
            <!-- Navbar -->

            <!-- Bảng sản phẩm -->
            <div class="table-responsive">
              <table class="table table-striped table-hover align-middle text-center">
                <thead class="table-secondary">
                  <tr class="">
                    <th>Tên sản phẩm</th>
                    <th>Danh mục</th>
                    <th>Giá</th>
                    <th>Trạng thái</th>
                    <th>Thao tác</th>
                  </tr>
                </thead>
                <tbody class="productList">
                  <!-- JS sẽ chèn dữ liệu vào đây -->
                </tbody>
              </table>
            </div>

          </div>

        </div>

      </div>

    </div>

    <!-- Lớp phủ và form -->
    <div id="overlay">
      <div class="form-container">
        <form id="productForm" class="text-center">
          <label for="name" class="mt-3">Tên sản phẩm:</label><br>
          <input type="text" class="productName" name="name" required><br><br>
          <label for="name" class="mt-3">Mô tả sản phẩm:</label><br>
          <input type="text" class="productDescription" name="name" required><br><br>
          <label for="name" class="mt-3">Mô tả chi tiết về sản phẩm:</label><br>
          <input type="text" class="productLongDescription" name="name" required><br><br>
          <div>
            <label for="category">Loại:</label><br>
            <select name="category" class="productCategory">
              <option value="Tour du lịch">Tour du lịch</option>
              <option value="Khách sạn">Khách sạn</option>
              <option value="Nghỉ dưỡng">Nghỉ dưỡng</option>
            </select>
          </div>

          <div class="mt-4">
            <label for="price">Giá (VND):</label><br>
            <input type="number" class="productPrice" name="price" required>
          </div>

          <div class="my-4">
            <label for="image">Hình ảnh:</label><br>
            <input type="file" class="imageInput ms-5 mb-3" name="image" required>
            <img src="" alt="Product Image" class="productImage">
          </div>

          <button type="submit" class="submitFormBtn rounded btn btn-primary">Lưu</button>
          <button type="button" class="closeFormBtn rounded btn btn-warning">Đóng</button>
        </form>
      </div>
    </div>

    <!-- Link Bootstrap -->

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>

    <!-- Link Firebase -->

    <script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.13.2/firebase-auth-compat.js"></script>

    <!-- Link Js -->

    <script src="../scr/firebase-config.js"></script>
    <script src="../scr/adminProduct.js"></script>

    <!-- Script (Form add product) -->

    <script>
      
      const showBtn = document.querySelector("#showFormBtn");
      const overlay = document.querySelector("#overlay");
      const closeBtn = document.querySelector(".closeFormBtn");

      // Khi nhấn vào nút thêm sản phẩm

      showBtn.addEventListener('click', () => {
        overlay.style.display = 'block';
      })

      // Khi nhấn vào nút đóng

      closeBtn.addEventListener('click', () => {
        overlay.style.display = 'none';
      })

      // Nếu người dùng click ra ngoài form thì cũng đóng

      overlay.addEventListener('click', (e) => {
        if (e.target === overlay) {
          overlay.style.display = 'none';
        }
      })

    </script>

  </body>
</html>